{"remainingRequest":"E:\\VuePress\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!E:\\VuePress\\node_modules\\@vuepress\\core\\lib\\client\\root-mixins\\updateMeta.js","dependencies":[{"path":"E:\\VuePress\\node_modules\\@vuepress\\core\\lib\\client\\root-mixins\\updateMeta.js","mtime":1662712188687},{"path":"E:\\VuePress\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662712189328},{"path":"E:\\VuePress\\node_modules\\babel-loader\\lib\\index.js","mtime":1662712189311}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHVuaW9uQnkgZnJvbSAnbG9kYXNoL3VuaW9uQnknOwppbXBvcnQgZXNjYXBlIGZyb20gJ2VzY2FwZS1odG1sJzsKZXhwb3J0IGRlZmF1bHQgewogIC8vIGNyZWF0ZWQgd2lsbCBiZSBjYWxsZWQgb24gYm90aCBjbGllbnQgYW5kIHNzcgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNpdGVNZXRhID0gdGhpcy4kc2l0ZS5oZWFkVGFncy5maWx0ZXIoKFtoZWFkZXJUeXBlXSkgPT4gaGVhZGVyVHlwZSA9PT0gJ21ldGEnKS5tYXAoKFtfLCBoZWFkZXJWYWx1ZV0pID0+IGhlYWRlclZhbHVlKTsKCiAgICBpZiAodGhpcy4kc3NyQ29udGV4dCkgewogICAgICBjb25zdCBtZXJnZWRNZXRhSXRlbXMgPSB0aGlzLmdldE1lcmdlZE1ldGFUYWdzKCk7CiAgICAgIHRoaXMuJHNzckNvbnRleHQudGl0bGUgPSB0aGlzLiR0aXRsZTsKICAgICAgdGhpcy4kc3NyQ29udGV4dC5sYW5nID0gdGhpcy4kbGFuZzsKICAgICAgdGhpcy4kc3NyQ29udGV4dC5wYWdlTWV0YSA9IHJlbmRlclBhZ2VNZXRhKG1lcmdlZE1ldGFJdGVtcyk7CiAgICAgIHRoaXMuJHNzckNvbnRleHQuY2Fub25pY2FsTGluayA9IHJlbmRlckNhbm9uaWNhbExpbmsodGhpcy4kY2Fub25pY2FsVXJsKTsKICAgIH0KICB9LAoKICAvLyBPdGhlciBsaWZlIGN5Y2xlcyB3aWxsIG9ubHkgYmUgY2FsbGVkIGF0IGNsaWVudAogIG1vdW50ZWQoKSB7CiAgICAvLyBpbml0IGN1cnJlbnRNZXRhVGFncyBmcm9tIERPTQogICAgdGhpcy5jdXJyZW50TWV0YVRhZ3MgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbWV0YScpXTsgLy8gdXBkYXRlIHRpdGxlIC8gbWV0YSB0YWdzCgogICAgdGhpcy51cGRhdGVNZXRhKCk7CiAgICB0aGlzLnVwZGF0ZUNhbm9uaWNhbExpbmsoKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICB1cGRhdGVNZXRhKCkgewogICAgICBkb2N1bWVudC50aXRsZSA9IHRoaXMuJHRpdGxlOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZyA9IHRoaXMuJGxhbmc7CiAgICAgIGNvbnN0IG5ld01ldGFUYWdzID0gdGhpcy5nZXRNZXJnZWRNZXRhVGFncygpOwogICAgICB0aGlzLmN1cnJlbnRNZXRhVGFncyA9IHVwZGF0ZU1ldGFUYWdzKG5ld01ldGFUYWdzLCB0aGlzLmN1cnJlbnRNZXRhVGFncyk7CiAgICB9LAoKICAgIGdldE1lcmdlZE1ldGFUYWdzKCkgewogICAgICBjb25zdCBwYWdlTWV0YSA9IHRoaXMuJHBhZ2UuZnJvbnRtYXR0ZXIubWV0YSB8fCBbXTsgLy8gcGFnZU1ldGFUYWdzIGhhdmUgaGlnaGVyIHByaW9yaXR5IHRoYW4gc2l0ZU1ldGFUYWdzCiAgICAgIC8vIGRlc2NyaXB0aW9uIG5lZWRzIHNwZWNpYWwgYXR0ZW50aW9uIGFzIGl0IGhhcyB0b28gbWFueSBlbnRyaWVzCgogICAgICByZXR1cm4gdW5pb25CeShbewogICAgICAgIG5hbWU6ICdkZXNjcmlwdGlvbicsCiAgICAgICAgY29udGVudDogdGhpcy4kZGVzY3JpcHRpb24KICAgICAgfV0sIHBhZ2VNZXRhLCB0aGlzLnNpdGVNZXRhLCBtZXRhSWRlbnRpZmllcik7CiAgICB9LAoKICAgIHVwZGF0ZUNhbm9uaWNhbExpbmsoKSB7CiAgICAgIHJlbW92ZUNhbm9uaWNhbExpbmsoKTsKCiAgICAgIGlmICghdGhpcy4kY2Fub25pY2FsVXJsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBkb2N1bWVudC5oZWFkLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgcmVuZGVyQ2Fub25pY2FsTGluayh0aGlzLiRjYW5vbmljYWxVcmwpKTsKICAgIH0KCiAgfSwKICB3YXRjaDogewogICAgJHBhZ2UoKSB7CiAgICAgIHRoaXMudXBkYXRlTWV0YSgpOwogICAgICB0aGlzLnVwZGF0ZUNhbm9uaWNhbExpbmsoKTsKICAgIH0KCiAgfSwKCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHVwZGF0ZU1ldGFUYWdzKG51bGwsIHRoaXMuY3VycmVudE1ldGFUYWdzKTsKICAgIHJlbW92ZUNhbm9uaWNhbExpbmsoKTsKICB9Cgp9OwoKZnVuY3Rpb24gcmVtb3ZlQ2Fub25pY2FsTGluaygpIHsKICBjb25zdCBjYW5vbmljYWxFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImxpbmtbcmVsPSdjYW5vbmljYWwnXSIpOwoKICBpZiAoY2Fub25pY2FsRWwpIHsKICAgIGNhbm9uaWNhbEVsLnJlbW92ZSgpOwogIH0KfQoKZnVuY3Rpb24gcmVuZGVyQ2Fub25pY2FsTGluayhsaW5rID0gJycpIHsKICBpZiAoIWxpbmspIHsKICAgIHJldHVybiAnJzsKICB9CgogIHJldHVybiBgPGxpbmsgaHJlZj0iJHtsaW5rfSIgcmVsPSJjYW5vbmljYWwiIC8+YDsKfQovKioKICogUmVwbGFjZSBjdXJyZW50TWV0YVRhZ3Mgd2l0aCBuZXdNZXRhVGFncwogKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IG5ld01ldGFUYWdzCiAqIEBwYXJhbSB7QXJyYXk8SFRNTEVsZW1lbnQ+fSBjdXJyZW50TWV0YVRhZ3MKICogQHJldHVybnMge0FycmF5PEhUTUxFbGVtZW50Pn0KICovCgoKZnVuY3Rpb24gdXBkYXRlTWV0YVRhZ3MobmV3TWV0YVRhZ3MsIGN1cnJlbnRNZXRhVGFncykgewogIGlmIChjdXJyZW50TWV0YVRhZ3MpIHsKICAgIFsuLi5jdXJyZW50TWV0YVRhZ3NdLmZpbHRlcihjID0+IGMucGFyZW50Tm9kZSA9PT0gZG9jdW1lbnQuaGVhZCkuZm9yRWFjaChjID0+IGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoYykpOwogIH0KCiAgaWYgKG5ld01ldGFUYWdzKSB7CiAgICByZXR1cm4gbmV3TWV0YVRhZ3MubWFwKG0gPT4gewogICAgICBjb25zdCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRhJyk7CiAgICAgIE9iamVjdC5rZXlzKG0pLmZvckVhY2goa2V5ID0+IHsKICAgICAgICB0YWcuc2V0QXR0cmlidXRlKGtleSwgbVtrZXldKTsKICAgICAgfSk7CiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGFnKTsKICAgICAgcmV0dXJuIHRhZzsKICAgIH0pOwogIH0KfQovKioKICogVHJ5IHRvIGlkZW50aWZ5IGEgbWV0YSB0YWcgYnkgbmFtZSwgcHJvcGVydHkgb3IgaXRlbXByb3AKICoKICogUmV0dXJuIGEgY29tcGxldGUgc3RyaW5nIGlmIG5vbmUgcHJvdmlkZWQKICogQHBhcmFtIHtPYmplY3R9IHRhZyBmcm9tIGZyb250bWF0dGVyIG9yIHNpdGVNZXRhVGFncwogKiBAcmV0dXJucyB7U3RyaW5nfQogKi8KCgpmdW5jdGlvbiBtZXRhSWRlbnRpZmllcih0YWcpIHsKICBmb3IgKGNvbnN0IGl0ZW0gb2YgWyduYW1lJywgJ3Byb3BlcnR5JywgJ2l0ZW1wcm9wJ10pIHsKICAgIGlmICh0YWcuaGFzT3duUHJvcGVydHkoaXRlbSkpIHJldHVybiB0YWdbaXRlbV0gKyBpdGVtOwogIH0KCiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRhZyk7Cn0KLyoqCiAqIFJlbmRlciBtZXRhIHRhZ3MKICoKICogQHBhcmFtIHtBcnJheX0gbWV0YQogKiBAcmV0dXJucyB7U3RyaW5nfQogKi8KCgpmdW5jdGlvbiByZW5kZXJQYWdlTWV0YShtZXRhKSB7CiAgaWYgKCFtZXRhKSByZXR1cm4gJyc7CiAgcmV0dXJuIG1ldGEubWFwKG0gPT4gewogICAgbGV0IHJlcyA9IGA8bWV0YWA7CiAgICBPYmplY3Qua2V5cyhtKS5mb3JFYWNoKGtleSA9PiB7CiAgICAgIHJlcyArPSBgICR7a2V5fT0iJHtlc2NhcGUobVtrZXldKX0iYDsKICAgIH0pOwogICAgcmV0dXJuIHJlcyArIGA+YDsKICB9KS5qb2luKCdcbiAgICAnKTsKfQ=="},{"version":3,"names":["unionBy","escape","created","siteMeta","$site","headTags","filter","headerType","map","_","headerValue","$ssrContext","mergedMetaItems","getMergedMetaTags","title","$title","lang","$lang","pageMeta","renderPageMeta","canonicalLink","renderCanonicalLink","$canonicalUrl","mounted","currentMetaTags","document","querySelectorAll","updateMeta","updateCanonicalLink","methods","documentElement","newMetaTags","updateMetaTags","$page","frontmatter","meta","name","content","$description","metaIdentifier","removeCanonicalLink","head","insertAdjacentHTML","watch","beforeDestroy","canonicalEl","querySelector","remove","link","c","parentNode","forEach","removeChild","m","tag","createElement","Object","keys","key","setAttribute","appendChild","item","hasOwnProperty","JSON","stringify","res","join"],"sources":["E:/VuePress/node_modules/@vuepress/core/lib/client/root-mixins/updateMeta.js"],"sourcesContent":["import unionBy from 'lodash/unionBy'\nimport escape from 'escape-html'\n\nexport default {\n  // created will be called on both client and ssr\n  created () {\n    this.siteMeta = this.$site.headTags\n      .filter(([headerType]) => headerType === 'meta')\n      .map(([_, headerValue]) => headerValue)\n\n    if (this.$ssrContext) {\n      const mergedMetaItems = this.getMergedMetaTags()\n\n      this.$ssrContext.title = this.$title\n      this.$ssrContext.lang = this.$lang\n      this.$ssrContext.pageMeta = renderPageMeta(mergedMetaItems)\n      this.$ssrContext.canonicalLink = renderCanonicalLink(this.$canonicalUrl)\n    }\n  },\n  // Other life cycles will only be called at client\n  mounted () {\n    // init currentMetaTags from DOM\n    this.currentMetaTags = [...document.querySelectorAll('meta')]\n\n    // update title / meta tags\n    this.updateMeta()\n    this.updateCanonicalLink()\n  },\n\n  methods: {\n    updateMeta () {\n      document.title = this.$title\n      document.documentElement.lang = this.$lang\n\n      const newMetaTags = this.getMergedMetaTags()\n      this.currentMetaTags = updateMetaTags(newMetaTags, this.currentMetaTags)\n    },\n\n    getMergedMetaTags () {\n      const pageMeta = this.$page.frontmatter.meta || []\n      // pageMetaTags have higher priority than siteMetaTags\n      // description needs special attention as it has too many entries\n      return unionBy([{ name: 'description', content: this.$description }],\n        pageMeta, this.siteMeta, metaIdentifier)\n    },\n\n    updateCanonicalLink () {\n      removeCanonicalLink()\n\n      if (!this.$canonicalUrl) {\n        return\n      }\n\n      document.head.insertAdjacentHTML('beforeend', renderCanonicalLink(this.$canonicalUrl))\n    }\n  },\n\n  watch: {\n    $page () {\n      this.updateMeta()\n      this.updateCanonicalLink()\n    }\n  },\n\n  beforeDestroy () {\n    updateMetaTags(null, this.currentMetaTags)\n    removeCanonicalLink()\n  }\n}\n\nfunction removeCanonicalLink () {\n  const canonicalEl = document.querySelector(\"link[rel='canonical']\")\n\n  if (canonicalEl) {\n    canonicalEl.remove()\n  }\n}\n\nfunction renderCanonicalLink (link = '') {\n  if (!link) {\n    return ''\n  }\n  return `<link href=\"${link}\" rel=\"canonical\" />`\n}\n\n/**\n * Replace currentMetaTags with newMetaTags\n * @param {Array<Object>} newMetaTags\n * @param {Array<HTMLElement>} currentMetaTags\n * @returns {Array<HTMLElement>}\n */\nfunction updateMetaTags (newMetaTags, currentMetaTags) {\n  if (currentMetaTags) {\n    [...currentMetaTags]\n          .filter(c => c.parentNode === document.head)\n          .forEach(c => document.head.removeChild(c))\n  }\n  if (newMetaTags) {\n    return newMetaTags.map(m => {\n      const tag = document.createElement('meta')\n      Object.keys(m).forEach(key => {\n        tag.setAttribute(key, m[key])\n      })\n      document.head.appendChild(tag)\n      return tag\n    })\n  }\n}\n\n/**\n * Try to identify a meta tag by name, property or itemprop\n *\n * Return a complete string if none provided\n * @param {Object} tag from frontmatter or siteMetaTags\n * @returns {String}\n */\nfunction metaIdentifier (tag) {\n  for (const item of ['name', 'property', 'itemprop']) {\n    if (tag.hasOwnProperty(item)) return tag[item] + item\n  }\n  return JSON.stringify(tag)\n}\n\n/**\n * Render meta tags\n *\n * @param {Array} meta\n * @returns {String}\n */\n\nfunction renderPageMeta (meta) {\n  if (!meta) return ''\n  return meta.map(m => {\n    let res = `<meta`\n    Object.keys(m).forEach(key => {\n      res += ` ${key}=\"${escape(m[key])}\"`\n    })\n    return res + `>`\n  }).join('\\n    ')\n}\n"],"mappings":"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"}]}